<apex:page standardController="Flame_Product__c" extensions="configureFLAMEproduct" lightningStylesheets="true" > 
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script type="text/javascript">
        var j$=jQuery.noConflict();
    j$.noConflict();
    j$(function() 
       {
           j$("input[type=text]").each(function()
                                       {
                                           console.log("id "+j$(this).val())
                                           var enteredValue = j$(this).val();
                                           var enteredValue=enteredValue.replace(/,/g, '');
                                           if (!isNaN(enteredValue) && enteredValue !='')
                                           {
                                               
                                               enteredValue = parseFloat(enteredValue);
                                               var decimalValue = enteredValue - parseInt(enteredValue);
                                               var resetValue;
                                               if(decimalValue != 0)
                                               {
                                                   resetValue = enteredValue;
                                               }
                                               else
                                               {
                                                   resetValue = parseInt(enteredValue);
                                               }
                                               console.log('Entered value = '+enteredValue);
                                               console.log('Decimal value = '+decimalValue);
                                               console.log('Reset value = '+resetValue);
                                               if(resetValue != '' && resetValue != 'NaN')
                                               {
                                                   j$(this).val(resetValue);
                                               }
                                           }
                                       });
       });      
    </script>  
    <style>
        .apexp .bPageBlock.apexDefaultPageBlock .pbBody .pbSubheader {
        font-family: Arial,Verdana,sans-serif;
        border-top: 0;
        color: white;
        /* background-color: #54678d; */
        background: repeating-linear-gradient(45deg, #54678d, rgb(84,105,141) 20px, rgba(84,105,141,.97) 20px, rgba(84,105,141,.97) 40px);
        }
        
    </style>

<style>
    .btnCenter{
        float: left;
        left: 50%;
    }
    .slds-button_brand{
     padding-left:1rem !important;
     padding-right:1rem !important;
     text-align:center !important;
     vertical-align:middle !important;
     -webkit-box-pack:center !important;
         -ms-flex-pack:center !important;
             justify-content:center !important;
     border:1px solid #dddbda !important;
     -webkit-transition:border 0.15s linear !important;
     transition:border 0.15s linear !important;
     background-color:#0070d2 !important;
     border-color:#0070d2 !important;
     color:white !important;
     background:#0070d2 !important; 
   }
   
   .slds-button_outline-brand{
     padding-left:1rem !important;
     padding-right:1rem !important;
     text-align:center !important;
     vertical-align:middle !important;
     -webkit-box-pack:center !important;
         -ms-flex-pack:center !important;
             justify-content:center !important;
     border:1px solid #dddbda !important;
     -webkit-transition:border 0.15s linear !important;
     transition:border 0.15s linear !important;
     border-color:#dddbda !important;
     background-color:white !important;
     border-color:#0070d2 !important;
   }
   

   .slds-notify-container,
.slds-notify_container{
  position:fixed !important;
  width:100% !important;
  left:0 !important;
  top:0 !important;
  z-index:10000 !important;
  text-align:center !important;
}

.slds-is-relative{
            position:relative !important;
          }
          .slds-notify_toast,
.slds-notify--toast{
  color:white !important;
  display:-webkit-inline-box !important;
  display:-ms-inline-flexbox !important;
  display:inline-flex !important;
  -webkit-box-align:center !important;
      -ms-flex-align:center !important;
          align-items:center !important;
  position:relative !important;
  background:#706e6b !important;
  font-weight:300 !important;
  border-radius:0.25rem !important;
  margin:0.5rem !important;
  padding:0.75rem 3rem 0.75rem 1.5rem !important;
  min-width:30rem !important;
  text-align:left !important;
  -webkit-box-pack:start !important;
      -ms-flex-pack:start !important;
          justify-content:flex-start !important;
          }

.slds-theme_warning, .slds-theme--warning{
    background-color:#ffb75d !important;
    color:#080707 !important;
  }

    </style>

       
    <script type="text/javascript">
    var bProductMaterialandOptionsSaved = true; // added by piyush  
    var bValveExaminationOptionSaved = true; //added by piyush 

   


  function isNumberKey(evt, obj) 
    {
        var charCode = (evt.which) ? evt.which : event.keyCode
            var value = obj.value;
            var dotcontains = value.indexOf(".") != -1;
            if (dotcontains)
                if (charCode == 46) return false;
            if (charCode == 46) return true;
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }

 function isNumberKeyQ(evt, obj) {

            var charCode = (evt.which) ? evt.which : event.keyCode
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }

       // added by piyush 
    function ProductMaterialAndOptionsChange(){
        console.log('changed');
        bProductMaterialandOptionsSaved = false;
    }

    function ValveExaminationOptionChange(){
        console.log('changed ValveExaminationOptionChange');
        bValveExaminationOptionSaved = false;
    }

       function onSaveProductMaterialsComplete(event){
        event.value = 'Save & Continue'; 
        bProductMaterialandOptionsSaved = true;
        document.getElementById("toastMsgText").innerHTML = '';
        var elmnt = document.getElementById("notifyToast");
        elmnt.style.display = 'none'; 
        return false;
    }
    
     function onValveExaminationOptionComplete(event){
        event.value = 'Save & Continue'; 
        bValveExaminationOptionSaved = true;
        document.getElementById("toastMsgText").innerHTML = '';
        var elmnt = document.getElementById("notifyToast");
        elmnt.style.display = 'none'; 
        return false;
    }

    function onMouseInExaminationOption(){
     if(bProductMaterialandOptionsSaved == false){
        console.log('---> ' + document.getElementById("toastMsgText"));
        document.getElementById("toastMsgText").innerHTML = 'Unsaved Changes on "Product Material and Options"';
        var elmnt = document.getElementById("notifyToast");
        elmnt.style.display = 'inline-block'; 
        elmnt.scrollIntoView();
     }
    } 

 //
    function onMouseInDocsourcing(){
     if(bValveExaminationOptionSaved == false){
        console.log('---> ' + document.getElementById("toastMsgText"));
        document.getElementById("toastMsgText").innerHTML = 'Unsaved Changes on "Examination Option"';
        var elmnt = document.getElementById("notifyToast");
        elmnt.style.display = 'inline-block'; 
        elmnt.scrollIntoView();
     }
    }

    var oPopupPDF;
    function openFAReference(strURL){
        if(strURL == ''){
                return;
        }

        //window.open(strURL, '_blank' );
        oPopupPDF = window.open(strURL , "", "width=500,height=500");
    }

    function validateConfigs(event,tabName){
        //alert(varConfiguration_Complete);
        if(varConfiguration_Complete == false){
            alert('Please complete your changes by clicking Finish Configuration before leaving the page');
            event.preventDefault();
           return false ;
        }else{
            return true;
        }
       
    }
    
</script> 
    
    <apex:form >
        <apex:pageMessages id="configerror" ></apex:pageMessages>
        <apex:actionFunction name="getTabData" action="{!getTabData}" reRender="theTabPanel2" oncomplete="" status="actStatusId">
            <apex:param assignTo="{!selectedTab}" name="selectedTab" value="x"/>
            <!-- <apex:actionSupport event="onchange" status="recordStatus" rerender=""/>
            <apex:actionStatus startText="Loading..." id="recordStatus"/> -->
        </apex:actionFunction>
        <apex:tabPanel switchType="client" id="theTabPanel2" value="{!selectedTab}" >
            <apex:actionStatus id="actStatusId">
                <apex:facet name="start">
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.65; z-index: 1000; background-color: black;">
                    &nbsp;
                </div>
                <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 1001; margin: 15% 45%">
                    <!-- <div style="display: inline-block; padding: 2px; background-color: #fff; width: 125px;"> -->
                        <img src="{!URLFOR($Resource.Loading)}" style="float: left; margin: 8px; width: 85px; width: 85px;" />
                        <!-- <img src="/img/slds_spinner_brand.gif" style="float: left; margin: 8px;" /> -->
                        <!-- <span style="display: inline-block; padding: 10px 0px;">Please Wait...</span> -->
                    <!-- </div> -->
                </div>
                </apex:facet>
            </apex:actionStatus>
            <!--apex:actionStatus id="actStatusId" startText="Loading">
                <apex:facet name="start" >
                  Loading <img src="/img/loading.gif" />                    
                </apex:facet>
            </apex:actionStatus-->
        <!--apex:tabPanel switchType="client" selectedTab="name1" id="theTabPanel"-->
            <apex:tab label="Product Configuration" name="name1" id="tabOne">    
                <apex:pageBlock id="options">
            <div style="padding-bottom:20px;height:80px;">
                <div id="notifyToast" class="slds-notify_container slds-is-relative" style="display:none;width:auto;left:25%;">
                    <div class="slds-notify slds-notify_toast slds-theme_warning" style="padding: 0px;padding-left: 20px;padding-right: 20px;" role="status">
                      <div class="slds-notify__content">
                        <h2 class="slds-text-heading_small" style="font-weight:100" id="toastMsgText">Unsaved Changes.</h2>
                      </div>
                    </div>
                </div>

                <!--apex:commandButton value="Back" action="{!goBack}"  style="font-weight:bold"></apex:commandButton> <br/-->    
                <apex:commandButton styleClass="slds-button_outline-brand" 
                value="Return to Product Selection"
                 action="{!goBack}"
                 rendered="{!bShowReturnToProductSelectionButton}"
                  oncomplete="goBackQLI('{!strURL}');"
                  style="font-weight:bold;float:left;margin-top: 20px;margin-left: 20px;"></apex:commandButton> 

                   <apex:commandButton styleClass="slds-button_brand" 
                      value="{!editModeLable}" 
                      action="{!EnableEditMode}"
                      style="font-weight:bold;float:right;margin-top: 20px;margin-right: 20px;" 
                      reRender="theTabPanel2" 
                      oncomplete="openFAReference('{!strURL}');" 
                      rendered="{!bShowEditButton}"
                      ></apex:commandButton>

                </div>
                <div style="float:none;">&nbsp;</div>
                <script>
                
                function goBackQLI(strURL){
        console.log('strURL---> ' + strURL);
        if(strURL === 'error'){
            return null;
        }else{
            parent.location.href=strURL;
        }
    }
                </script>
              
                    <apex:pageBlockSection title="Product Material and Options" id="options2">
                         <apex:inputField rendered="{!(!disableButton)}" onchange="ProductMaterialAndOptionsChange()" value="{!flmProd.Quantity__c}" id="qtty3" onkeypress="return isNumberKeyQ(event,this)"/> 
                         <apex:outputField value="{!flmProd.Quantity__c}" rendered="{!disableButton}"/>
                        <!--apex:selectList value="{!flmProd.Drilling__c}" label="Drilling" size="1" multiselect="false">
<apex:selectOptions value="{!Drilling}"/>
</apex:selectList-->
                        
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Drilling__c}" label="Drilling" size="1" multiselect="false" >
                            <apex:selectOptions value="{!drillingOption}"/>
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/> <!-- status="loadingbody" -->
                            <apex:actionStatus startText="Loading..." id="loadingbody" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Body_Material__c}" label="Body Material" size="1" multiselect="false"  id="BodyMaterial" rendered="{!bodyMaterialBoolean}" >
                            <apex:selectOptions value="{!bodyMaterialOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" action="{!getOnChangeBodyMaterial}" rerender="options" status="actStatusId"/>  <!-- status="loadingstatusmsg1" -->
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg1" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Housing_Material__c}" size="1" multiselect="false"  id="HousingMaterial" rendered="{!HousingMaterialBoolean}">
                            <apex:selectOptions value="{!HousingMaterialOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" action="{!getOnChangeHousingMaterial}" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg2" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Element_Material__c}" size="1" multiselect="false" id="ElementMaterial" rendered="{!ElementMaterialBoolean}" >
                            <apex:selectOptions value="{!ElementMaterialOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" action="{!getOnChangeElementMaterial}" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg3" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Pallet_Material__c}" size="1" multiselect="false" id="PalletMaterial" rendered="{!PalletMaterialBoolean}" >
                            <apex:selectOptions value="{!PalletMaterialOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg4" />
                        </apex:selectList>
                        
                        <!--apex:inputField value="{!flmProd.Pallet_Material__c}" rendered="{!flmProd.Model__c=='8400A'}"></apex:inputField>
<apex:inputField value="{!flmProd.Pressure_Setting__c}" rendered="{!flmProd.Model__c=='8400A'}"></apex:inputField>
<apex:inputField value="{!flmProd.Spring_Range__c}" rendered="{!flmProd.Model__c=='8400A'}"></apex:inputField>
</apex:pageBlockSectionItem><br/>-->
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Diaphragm_Material__c}" size="1" multiselect="false" id="DiaphragmMaterial" rendered="{!DiaphragmMaterialBoolean}" >
                            <apex:selectOptions value="{!DiaphragmMaterialOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg5" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Pressure_Setting__c}" size="1" multiselect="false" id="PressureSetting" rendered="{!PressureSettingBoolean}" >
                            <apex:selectOptions value="{!PressureSettingOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" action="{!getOnChangeSETTING}" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg6" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Spring_Range__c}" size="1" multiselect="false" id="SpringRange" rendered="{!SpringRangeBoolean}" >
                            <apex:selectOptions value="{!SpringRangeOptions}"/> 
                            <apex:actionSupport event="onchange" rerender="options" status="actStatusId" oncomplete="ProductMaterialAndOptionsChange()" />
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg7" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Painting_Coating_Option__c}" size="1" multiselect="false" id="PaintingCoating"  >
                            <apex:selectOptions value="{!PaintingCoatingOptions}"/> 
                            <apex:actionSupport event="onchange" rerender="options" status="actStatusId" oncomplete="ProductMaterialAndOptionsChange()"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg8" />
                        </apex:selectList> 
                        
                        <!--  <apex:inputField value="{!flmprod.KD__c}" html-disabled="disabled"/> -->
                        <script type="text/javascript">
                        var j$=jQuery.noConflict();
                        j$.noConflict();
                        j$(function() 
                           {
                               j$("input[type=text]").each(function()
                                                           {
                                                               console.log("id "+j$(this).val())
                                                               var enteredValue = j$(this).val();
                                                               var enteredValue=enteredValue.replace(/,/g, '');
                                                               if (!isNaN(enteredValue) && enteredValue !='')
                                                               {
                                                                   
                                                                   enteredValue = parseFloat(enteredValue);
                                                                   var decimalValue = enteredValue - parseInt(enteredValue);
                                                                   var resetValue;
                                                                   if(decimalValue != 0)
                                                                   {
                                                                       resetValue = enteredValue;
                                                                   }
                                                                   else
                                                                   {
                                                                       resetValue = parseInt(enteredValue);
                                                                   }
                                                                   console.log('Entered value = '+enteredValue);
                                                                   console.log('Decimal value = '+decimalValue);
                                                                   console.log('Reset value = '+resetValue);
                                                                   if(resetValue != '' && resetValue != 'NaN')
                                                                   {
                                                                       j$(this).val(resetValue);
                                                                   }
                                                               }
                                                           });
                           });      
                        </script>  
                    </apex:pageBlockSection>
                    <!-- Service Ticket #208036, removed the flame arrestor 7618.PNG image placed here -->
                    <apex:pageBlockSection >
                                                
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Inlet_Option_A__c}" size="1" multiselect="false" id="InletOptionA"  >
                            <apex:selectOptions value="{!InletAOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg9" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Outlet_Option_A__c}" size="1" multiselect="false" id="OutletOptionA"  >
                            <apex:selectOptions value="{!OutletAOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg12" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Inlet_Option_B__c}" size="1" multiselect="false" id="InletOptionB"  >
                            <apex:selectOptions value="{!InletBOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg10" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Outlet_Option_B__c}" size="1" multiselect="false" id="OutletOptionB"  >
                            <apex:selectOptions value="{!OutletBOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg13" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Inlet_Option_C__c}" size="1" multiselect="false" id="InletOptionC"  >
                            <apex:selectOptions value="{!InletCOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg11" />
                        </apex:selectList>
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Outlet_Option_C__c}" size="1" multiselect="false" id="OutletOptionC"  >
                            <apex:selectOptions value="{!OutletCOptions}"/> 
                            <apex:actionSupport oncomplete="ProductMaterialAndOptionsChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg14" />
                        </apex:selectList>
 
                    </apex:pageBlockSection>
                    <!--<apex:pageBlockButtons location="bottom" rendered="{!!disableButton}">-->
                        <div align="center" draggable="false" >      
                    <apex:commandButton styleClass="slds-button_brand"
                    rendered="{!!disableButton}"
                    action="{!saveProductMaterialAndOptions}"
                          value="Save & Continue"
                           onclick="this.value = 'Processing'" 
                           rerender="configerror,options,examinationBlock,examsec,pnlScriptData"
                           oncomplete="onSaveProductMaterialsComplete(this)" />
                        </div>
                 <!--   </apex:pageBlockButtons>-->
                </apex:pageBlock> 
                
                
                <apex:pageBlock id="examinationBlock" onmouseover="onMouseInExaminationOption()">
                    <apex:pageBlockSection title="Examination Option" id="examsec">
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Radiography__c}" size="1" multiselect="false" id="Radiography" rendered="{!RadiographyBoolean}" >
                            <apex:selectOptions value="{!RadiographyOptions}"/> 
                            <apex:actionSupport oncomplete="ValveExaminationOptionChange()"  event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg15" />
                        </apex:selectList> 
                        
                        <apex:inputField onchange="ValveExaminationOptionChange()" value="{!flmProd.Fillet_Weld_Liquid_Dye_Penetrant__c}" rendered="{! AND(FilletWeldLiquidDyePenetrant , !disableButton)}"/> 
                        <apex:outputField value="{!flmProd.Fillet_Weld_Liquid_Dye_Penetrant__c}"  rendered="{! AND(FilletWeldLiquidDyePenetrant , disableButton)}"/>
                        
                        <apex:selectList disabled="{!disableButton}"  value="{!flmProd.Positive_Material_Identification__c}" size="1" multiselect="false" id="PMI" rendered="{!PositiveMaterialIdentificationBoolean}"><!-- rendered="{!PositiveMaterialIdentificationBoolean}" -->
                            <apex:selectOptions value="{!PositiveMaterialIdentificationOptions}"/> 
                            <apex:actionSupport oncomplete="ValveExaminationOptionChange()" event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg16" />
                        </apex:selectList> 
                        <!--	rendered="{!PositiveMaterialIdentificationBoolean}" -->
                        <!--apex:selectList value="{!flmProd.Positive_Material_Identification__c}" size="1" multiselect="false" rendered="{!positiveMaterialIdentificationBoolean}" >
<apex:selectOptions value="{!PositiveMaterialIdentificationOptions}"/>  
</apex:selectList-->
                        <!--  rendered="{!LiquidDyePenetrantBoolean}" -->
                        <apex:selectList disabled="{!disableButton}" value="{!flmProd.Liquid_Dye_Penetrant__c}" size="1" multiselect="false" id="LDP" rendered="{!LiquidDyePenetrantBoolean}" ><!--  rendered="{!LiquidDyePenetrantBoolean}" -->
                            <apex:selectOptions value="{!LiquidDyePenetrantOptions}"/> 
                            <apex:actionSupport oncomplete="ValveExaminationOptionChange()" event="onchange" rerender="options" status="actStatusId"/>
                            <apex:actionStatus startText="Loading..." id="loadingstatusmsg17" />
                        </apex:selectList> 
                        
                        <!--apex:selectList value="{!flmProd.Liquid_Dye_Penetrant__c}" size="1" multiselect="false" rendered="{!liquidDyePenetrantBoolean}"  >
<apex:selectOptions value="{!LiquidDyePenetrantOptions}"/>  
</apex:selectList-->
                        
                        <!--rendered="{!MagneticParticleExamination}"  rendered="{!BrinellHardnessExamination}" rendered="{!CharpyImpactTesting}" 
rendered="{!VisualCastingExamination}"  rendered="{!IntergranularCorrosionTest}" -->
                        
                        <apex:inputField onchange="ValveExaminationOptionChange()" value="{!flmProd.Ultrasonic_Examination__c}" rendered="{!AND(UltrasonicExamination , !disableButton)}" />
                        <apex:outputField value="{!flmProd.Ultrasonic_Examination__c}" rendered="{! AND(UltrasonicExamination , disableButton)}"/>
                        
                        <apex:inputField onchange="ValveExaminationOptionChange()" value="{!flmProd.Magnetic_Particle_Examination__c}" rendered="{!AND(MagneticParticleExamination , !disableButton)}"/>
                        <apex:outputField value="{!flmProd.Magnetic_Particle_Examination__c}"  rendered="{! AND(MagneticParticleExamination , disableButton)}"/>
                        
                        <apex:inputField onchange="ValveExaminationOptionChange()" value="{!flmProd.Brinell_Hardness_Examination__c}" rendered="{!AND(BrinellHardnessExamination , !disableButton)}"/>
                        <apex:outputField value="{!flmProd.Brinell_Hardness_Examination__c}" rendered="{! AND(BrinellHardnessExamination , disableButton)}"/>
                        
                        <apex:inputField onchange="ValveExaminationOptionChange()" value="{!flmProd.Charpy_Impact_Testing__c}" rendered="{!AND(CharpyImpactTesting , !disableButton)}"/>
                        <apex:outputField value="{!flmProd.Charpy_Impact_Testing__c}"  rendered="{! AND(CharpyImpactTesting , disableButton)}"/>
                        
                        <apex:inputField onchange="ValveExaminationOptionChange()" value="{!flmProd.Visual_Casting_Examination__c}" rendered="{!AND(VisualCastingExamination , !disableButton)}" />
                        <apex:outputField value="{!flmProd.Visual_Casting_Examination__c}"  rendered="{! AND(VisualCastingExamination , disableButton)}"/>

                        <apex:inputField onchange="ValveExaminationOptionChange()" value="{!flmProd.Intergranular_Corossion_Test__c}" rendered="{!AND(IntergranularCorrosionTest , !disableButton)}" />
                        <apex:outputField value="{!flmProd.Intergranular_Corossion_Test__c}"  rendered="{! AND(IntergranularCorrosionTest , disableButton)}"/>

                    </apex:pageBlockSection>
                    <script type="text/javascript">
                    var j$=jQuery.noConflict();
                    j$.noConflict();
                    j$(function() 
                       {
                           j$("input[type=text]").each(function()
                                                       {
                                                           console.log("id "+j$(this).val())
                                                           var enteredValue = j$(this).val();
                                                           var enteredValue=enteredValue.replace(/,/g, '');
                                                           if (!isNaN(enteredValue) && enteredValue !='')
                                                           {
                                                               
                                                               enteredValue = parseFloat(enteredValue);
                                                               var decimalValue = enteredValue - parseInt(enteredValue);
                                                               var resetValue;
                                                               if(decimalValue != 0)
                                                               {
                                                                   resetValue = enteredValue;
                                                               }
                                                               else
                                                               {
                                                                   resetValue = parseInt(enteredValue);
                                                               }
                                                               console.log('Entered value = '+enteredValue);
                                                               console.log('Decimal value = '+decimalValue);
                                                               console.log('Reset value = '+resetValue);
                                                               if(resetValue != '' && resetValue != 'NaN')
                                                               {
                                                                   j$(this).val(resetValue);
                                                               }
                                                           }
                                                       });
                       });      
                    </script>  
                   <!-- <apex:pageBlockButtons location="bottom" rendered="{!!disableButton}">-->
                    <div align="center" draggable="false" >      
                   <apex:commandButton styleClass="slds-button_brand"
                   rendered="{!!disableButton}"
                         action="{!saveExaminationOption}"
                          value="Save & Continue"
                           onclick="this.value = 'Processing'" 
                           reRender="configerror,examinationBlock,options,pnlScriptData"
                           oncomplete="onValveExaminationOptionComplete(this)"/>
                           </div>
                           <!-- rerender="configFormErr,PMaterial,SectionG" -->
                 <!--   </apex:pageBlockButtons>-->
                </apex:pageBlock>
                
                <apex:pageBlock id="docsourcing" onmouseover="onMouseInDocsourcing()">
                    <apex:pageBlockSection title="Certificate Document Or Sourcing Restrictions">
                        <apex:inputField value="{!flmProd.Final_Assembly_Location_Requirements__c}" rendered="{! !disableButton}"/>
                        <apex:outputField value="{!flmProd.Final_Assembly_Location_Requirements__c}" rendered="{!disableButton}"/>
                        
                        <apex:inputField value="{!flmProd.Material_Sourcing_Requirements__c}" rendered="{! !disableButton}"/>
                        <apex:outputField value="{!flmProd.Material_Sourcing_Requirements__c}" rendered="{!disableButton}"/>
                    </apex:pageBlockSection>
                    <script type="text/javascript">
                    var j$=jQuery.noConflict();
                    j$.noConflict();
                    j$(function() 
                       {
                           j$("input[type=text]").each(function()
                                                       {
                                                           console.log("id "+j$(this).val())
                                                           var enteredValue = j$(this).val();
                                                           var enteredValue=enteredValue.replace(/,/g, '');
                                                           if (!isNaN(enteredValue) && enteredValue !='')
                                                           {
                                                               
                                                               enteredValue = parseFloat(enteredValue);
                                                               var decimalValue = enteredValue - parseInt(enteredValue);
                                                               var resetValue;
                                                               if(decimalValue != 0)
                                                               {
                                                                   resetValue = enteredValue;
                                                               }
                                                               else
                                                               {
                                                                   resetValue = parseInt(enteredValue);
                                                               }
                                                               console.log('Entered value = '+enteredValue);
                                                               console.log('Decimal value = '+decimalValue);
                                                               console.log('Reset value = '+resetValue);
                                                               if(resetValue != '' && resetValue != 'NaN')
                                                               {
                                                                   j$(this).val(resetValue);
                                                               }
                                                           }
                                                       });
                       });      
                    </script>  
                    <!--<apex:pageBlockButtons location="bottom" rendered="{!!disableButton}">-->
                        <div align="center" draggable="false" >
                    <apex:commandButton styleClass="slds-button_brand" 
                    rendered="{!!disableButton}"
                        action="{!saveCertificateDocumentOrSourcingRestrictions}"
                         value="Finish Configuration" 
                        onclick="this.value = 'Processing'" 
                        oncomplete="goBackQLI('{!strURL}');this.value = 'Finish Configuration';oPopupPDF.close();" 
                        reRender="configerror,docsourcing"/> 
                    </div>
                    <!-- rerender="configFormErr,PMaterial,SectionG" -->
                    <!--</apex:pageBlockButtons> -->
                </apex:pageBlock>             
            </apex:tab>
            
            <apex:tab label="Product Review" name="ProductReview" id="ProdRev" ontabenter="validateConfigs('productReview'); getTabData('ProductReview');"><!--  -->
                <apex:pageBlock >
                    <div style="padding:20px">
                        <apex:commandButton value="Return to Quote"
                                            styleClass="slds-button_outline-brand"
                                            action="{!goBackToQuote}"
                                            oncomplete="goBackQLI('{!strURL}');"
                                            style="font-weight:bold"></apex:commandButton>
                    </div>

                    <apex:pageBlockSection title="List Price Each (USD)" id="FAPricing" columns="1">
                          
                        Discountable Price Each = ${!TotalFAPriceOverride} <br/> <br/>                                
                        Non - Discountable Lot Charge = ${!NonDiscountablePriceEach} <br/> <br/>                                  
                        List Price Each = ${!ListPriceEach}
                                
                    </apex:pageBlockSection>
                    <apex:pageBlockSection title="Lead-time (Working Days)" id="LeadTimedesc" columns="1">
                        <apex:pageBlockTable value="{!LeadTimeRecords}" var="RecLDT" styleclass="hidePricingBody">
                            <apex:column >
                                <apex:facet name="header"> Lead Time Item </apex:facet>
                                <apex:facet name="footer"> Total </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 10 </apex:facet>
                                <apex:facet name="footer"> {!Total10Override} </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 20 </apex:facet> 
                                <apex:facet name="footer"> {!Total20Override} </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 30 </apex:facet>
                                <apex:facet name="footer"> {!Total30Override} </apex:facet>
                            </apex:column> 
                            <apex:column >
                                <apex:facet name="header"> Site 40 </apex:facet>
                                <apex:facet name="footer"> {!Total40Override} </apex:facet>
                            </apex:column> 
                        </apex:pageBlockTable>
                    </apex:pageBlockSection> 
                    <apex:pageBlockSection title="Product Description" id="Quotedesc" columns="2">
                        <apex:pageBlockTable value="{!quoteDescriptionList}" var="RecQD" id="QT">  
                            <apex:column >
                                <apex:repeat value="{!RecQD.overridedescriptionList}" var="descriptionItem">
                                    <apex:outputText value="{!descriptionItem}"/><br/>
                                </apex:repeat>
                            </apex:column>                           
                        </apex:pageBlockTable>
                    </apex:pageBlockSection>
                </apex:pageBlock>
            </apex:tab>
                                    
            <apex:tab label="Price, LT & Cost" name="Pricing" id="tabtwo" rendered="{!showsales}" ontabenter="validateConfigs('productReview');getTabData('Pricing');"><!-- rendered="{!showsales}" -->
                  <apex:pageBlock > 
                    <apex:pageBlockSection title="List Price Each (USD)" id="FAPricingtab" columns="1">
                    <apex:outputField value="{!flmprod.Price_Engineer_Override__c}" style="width: 15px" label="Pricing Override" rendered="{!bReadOnlyChceckBox}" />          
                    <apex:inputField value="{!flmprod.Price_Engineer_Override__c}" style="width: 15px" label="Pricing Override" rendered="{! !bReadOnlyChceckBox}">
                            <apex:actionSupport event="onchange" action="{!ApplyDefaultPricing}" rerender="FAPricingtab,FAPricing" status="loadingstatusmsg"/>
                            <apex:actionStatus startText="Please wait..." id="loadingstatusmsg"/> 
                        </apex:inputField>                       
                        <apex:pageBlockTable value="{!FAPriceWrapperList}" var="RecPRC" id="pricingTable" columnsWidth="25%">
                            <apex:column >
                                <apex:facet name="header"> Pricing Element </apex:facet>
                                {!RecPRC.faPrice.Pricing_Element__c}
                                <apex:facet name="footer">    
                                    Discountable Price Each = ${!TotalFAPriceOverride} <br/> <br/>                                
                                    Non - Discountable Lot Charge = ${!NonDiscountablePriceEach} <br/> <br/>                                  
                                    List Price Each = ${!ListPriceEach}
                                </apex:facet>   
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> List Price Each (USD) </apex:facet>
                                {!RecPRC.faPrice.Price__c} 
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Pricing Override </apex:facet> 
                                <apex:inputText value="{!RecPRC.faPriceOverride}" style="{!IF(flmprod.Price_Engineer_Override__c == false,'width:100px;pointer-events: none;','width:100px;')}"/>
                            </apex:column>
                        </apex:pageBlockTable>
                       
                    </apex:pageBlockSection>

                    <div align="center" draggable="false" style="margin-bottom: 15px;" >   
                        <apex:commandButton rendered="{!bShowEditButton}" 
                         value="Save"
                         styleClass="slds-button_brand"
                         action="{!SavePriceOverride}" 
                         onclick="this.value = 'Processing'"
                         oncomplete="this.value = 'Save'"
                         rerender="FAPricingtab,FAPricing,pricingTable"
                         />
                         </div>

                    <apex:pageBlockSection title="Lead-Time (Working Days)" id="LeadTime" columns="1">
                    <apex:outputField value="{!flmprod.Lead_Time_Override__c}" label="Lead-Time Override" rendered="{!bReadOnlyChceckBox}" />              
                    <apex:inputField value="{!flmprod.Lead_Time_Override__c}" label="Lead-Time Override" rendered="{!!bReadOnlyChceckBox}">
                            <apex:actionSupport event="onchange" action="{!ApplyDefaultLeadtime}" rerender="LeadTable,LeadTimedesc" status="loadingstatusmsg1"/>
                            <apex:actionStatus startText="Please wait..." id="loadingstatusmsg1"/> 
                        </apex:inputField>
                        <apex:pageBlockTable value="{!FALeadTimeList}" var="RecLDT" id="LeadTable">
                            <apex:column >
                                <apex:facet name="header"> Lead Time Item </apex:facet>
                                {!RecLDT.item}
                                <apex:facet name="footer"> Total </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 10 </apex:facet>
                                {!RecLDT.x10}
                                <apex:facet name="footer"> {!Total10} </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 10 Override</apex:facet>
                                <!--apex:inputField value="{!RecLDT.leadTimeRec.X10_Override__c}" rendered="{!RecLDT.item != 'Queue Time'}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/-->
                                <apex:inputText value="{!RecLDT.x10Override}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                <apex:facet name="footer"> {!Total10Override} </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 20 </apex:facet> 
                                {!RecLDT.x20}
                                <apex:facet name="footer"> {!Total20} </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 20 Override</apex:facet>
                                <!--apex:inputField value="{!RecLDT.leadTimeRec.X20_Override__c}" rendered="{!RecLDT.item != 'Queue Time'}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/-->
                                <apex:inputText value="{!RecLDT.x20Override}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                <apex:facet name="footer"> {!Total20Override} </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 30 </apex:facet>
                                {!RecLDT.x30}
                                <apex:facet name="footer"> {!Total30} </apex:facet>
                            </apex:column> 
                            <apex:column >
                                <apex:facet name="header"> Site 30 Override</apex:facet>
                                <!--apex:inputField value="{!RecLDT.leadTimeRec.X30_Override__c}" rendered="{!RecLDT.item != 'Queue Time'}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/-->
                                <apex:inputText value="{!RecLDT.x30Override}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                <apex:facet name="footer"> {!Total30Override} </apex:facet>
                            </apex:column>
                            <apex:column >
                                <apex:facet name="header"> Site 40 </apex:facet>
                                {!RecLDT.x40}
                                <apex:facet name="footer"> {!Total40} </apex:facet>
                            </apex:column> 
                            <apex:column >
                                <apex:facet name="header"> Site 40 Override</apex:facet>
                                <!--apex:inputField value="{!RecLDT.leadTimeRec.X40_Override__c}" rendered="{!RecLDT.item != 'Queue Time'}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/-->
                                <apex:inputText value="{!RecLDT.x40Override}" style="{!IF(flmprod.Lead_Time_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                <apex:facet name="footer"> {!Total40Override} </apex:facet>
                            </apex:column>
                        </apex:pageBlockTable>
                        <!--<apex:pageBlockSectionItem dataStyle="float: right;left: 50%;">-->
                            
                        <!--</apex:pageBlockSectionItem>-->
                    </apex:pageBlockSection>
                    <div align="center" draggable="false" style="margin-bottom: 15px;" > 
                        <apex:commandButton rendered="{!bShowEditButton}" oncomplete="this.value = 'Save'" value="Save" styleClass="slds-button_brand" action="{!saveLeadTime}" onclick="this.value = 'Processing'" rerender="LeadTimedesc"/>
                        </div>

                   <apex:pageBlockSection title="Cost" id="RVCost" columns="1" >
                    <apex:outputField value="{!flmprod.Build_Cost_Override__c}" label="Cost Override" rendered="{!bReadOnlyChceckBox}" />              
                        <apex:inputField value="{!flmprod.Build_Cost_Override__c}" label="Cost Override" rendered="{!!bReadOnlyChceckBox}">
                                <apex:actionSupport event="onchange" action="{!ApplyDefaultCost}" rerender="RVCost" status="loadingstatusmsg"/>
                                <apex:actionStatus startText="Please wait..." id="loadingstatusmsg"/>
                            </apex:inputField>
                            <apex:pageBlockSection title="Assembly Cost"  columns="1" >
                                <apex:pageBlockTable value="{!assembleCost}" var="cst" id="CostTable">
                                    <apex:column >
                                        <apex:facet name="header"> Standard Operation</apex:facet>
                                        {!cst.Part_Number__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header">10 Ins</apex:facet>
                                        {!cst.Inside_Cost_10__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header">10 Ins Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Inside_Cost_Override_10__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 10 Out</apex:facet>
                                        {!cst.Outside_Cost_10__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 10 Out Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Outside_Cost_Override_10__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Ins</apex:facet>
                                        {!cst.Inside_Cost_20__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Ins Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Inside_Cost_Override_20__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Out</apex:facet>
                                        {!cst.Outside_Cost_20__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Out Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Outside_Cost_Override_20__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Ins</apex:facet>
                                        {!cst.Inside_Cost_30__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Ins Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Inside_Cost_Override_30__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Out</apex:facet>
                                        {!cst.Outside_Cost_30__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Out Ovrrd</apex:facet>
                                         <apex:inputField value="{!cst.Outside_Cost_Override_30__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;','width:80px;')}"/>
                                    </apex:column>
                                </apex:pageBlockTable>
                         </apex:pageBlockSection>
                            <apex:pageBlockSection title="Build Cost" columns="1" >
                                <apex:pageBlockTable value="{!buildCost}" var="cst" id="CostTable">
                                    <apex:column >
                                        <apex:facet name="header">Cost Type</apex:facet>
                                        {!cst.Cost_Sub_Type__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> Standard Operation</apex:facet>
                                        {!cst.Part_Number__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header">10 Ins</apex:facet>
                                        {!cst.Inside_Cost_10__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 10 Ins.Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Inside_Cost_Override_10__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;',IF(assembleCost.size != 0,'width:80px;pointer-events: none;','width:80px;'))}"/>
                                     {!cst.Inside_Cost_Override_10__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 10 Outs</apex:facet>
                                        {!cst.Outside_Cost_10__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 10 Outs.Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Outside_Cost_Override_10__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;',IF(assembleCost.size != 0,'width:80px;pointer-events: none;','width:80px;'))}"/>
                                         {!cst.Outside_Cost_Override_10__c} 
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Ins</apex:facet>
                                        {!cst.Inside_Cost_20__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Ins.Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Inside_Cost_Override_20__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;',IF(assembleCost.size != 0,'width:80px;pointer-events: none;','width:80px;'))}"/>
                                        {!cst.Inside_Cost_Override_20__c} 
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Outs</apex:facet>
                                        {!cst.Outside_Cost_20__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Outs.Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Outside_Cost_Override_20__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;',IF(assembleCost.size != 0,'width:80px;pointer-events: none;','width:80px;'))}"/>
                                         {!cst.Outside_Cost_Override_20__c} 
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Ins</apex:facet>
                                        {!cst.Inside_Cost_30__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Ins.Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Inside_Cost_Override_30__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;',IF(assembleCost.size != 0,'width:80px;pointer-events: none;','width:80px;'))}"/>
                                        {!cst.Inside_Cost_Override_30__c} 
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Outs</apex:facet>
                                        {!cst.Outside_Cost_30__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Outs.Ovrrd</apex:facet>
                                        <apex:inputField value="{!cst.Outside_Cost_Override_30__c}" style="{!IF(flmprod.Build_Cost_Override__c == false,'width:80px;pointer-events: none;',IF(assembleCost.size != 0,'width:80px;pointer-events: none;','width:80px;'))}"/>
                                         {!cst.Outside_Cost_Override_30__c} 
                                    </apex:column>
                                </apex:pageBlockTable>
                    </apex:pageBlockSection>
                  <apex:pageBlockSection title="Overridden">
                        <apex:pageBlockTable value="{!overridenCost}" var="cst" id="OverridenTable">
                                    <apex:column >
                                        <apex:facet name="header"> 10 Ins.Ovrrd</apex:facet>
                                        <apex:outputText value="{!cst.Inside_Cost_10__c}" style="padding-inline-end: 10px;"></apex:outputText>
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 10 Outs.Ovrrd</apex:facet>
                                        {!cst.Outside_Cost_10__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Ins.Ovrrd</apex:facet>
                                        {!cst.Inside_Cost_20__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 20 Outs.Ovrrd</apex:facet>
                                        {!cst.Outside_Cost_20__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Ins.Ovrrd</apex:facet>
                                        {!cst.Inside_Cost_30__c}
                                    </apex:column>
                                    <apex:column >
                                        <apex:facet name="header"> 30 Outs.Ovrrd</apex:facet>
                                        {!cst.Outside_Cost_30__c}
                                    </apex:column>
                                </apex:pageBlockTable>
                            </apex:pageBlockSection>  
                            
                            <!--<apex:pageBlockSectionItem dataStyle="float: right;left: 50%;">
                                    <apex:commandButton rendered="{!bShowEditButton}" value="Save" styleClass="slds-button_brand" action="{!saveCosting}" onclick="this.value = 'Processing'" rerender="RVCost" style="font-weight:bold"/>
                                </apex:pageBlockSectionItem>-->
                        </apex:pageBlockSection> 

                        <div align="center" draggable="false" style="margin-bottom: 15px;" > 
                            <apex:commandButton rendered="{!bShowEditButton}" oncomplete="this.value = 'Save'" value="Save" styleClass="slds-button_brand" action="{!saveCosting}" onclick="this.value = 'Processing'" rerender="RVCost" style="font-weight:bold"/>
                            </div>

                        </apex:pageBlock>
              </apex:tab>
                                    
             <apex:tab label="Engineering Specials" name="EngineeringSpecials" id="EngineeringSpecials" reRender="Quote" rendered="{!showsales}" ontabenter="validateConfigs('productReview');getTabData('EngineeringSpecials');"> <!-- rendered="{!showsales}" ontabenter="getTabData('EngineeringSpecials');"-->
                     <apex:pageBlock > 
                        <apex:outputPanel id="EngSpecial">
                            <apex:pageBlockSection title="Part Number" id="PartNumber" columns="1">
                                <apex:inputField value="{!flmProd.Part_Number_Base__c}" style="{!IF(flmProd.Quote_Description_Engineer_Override__c == false,'pointer-events: none;','')}"/>
                                <apex:inputField value="{!flmProd.ASSYPARTEXISTING__c}" style="width: 230px" html-disabled="true" label="ASSYPARTEXISTING"/>
                                <apex:outputPanel rendered="{!flmProd.Quote_Description_Engineer_Override__c}" id="test1">    
                                    <div align="center" draggable="false" >            
                                <apex:commandButton rendered="{!bShowEditButton}" oncomplete="this.value = 'Save'" value="Save" styleClass="slds-button_brand" onclick="this.value = 'Processing'" action="{!savePartNumber}" 
                                       />
                                    </div>
                               </apex:outputPanel> 
                            </apex:pageBlockSection>
                        <apex:actionRegion >
                            <apex:pageBlockSection title="Product Description" id="Quote" columns="1" >
                                <apex:outputField value="{!flmprod.Quote_Description_Engineer_Override__c}" label="Description Override" rendered="{!bReadOnlyChceckBox}" />   

                                <apex:inputField value="{!flmprod.Quote_Description_Engineer_Override__c}" label="Description Override" rendered="{!!bReadOnlyChceckBox}" >
                                <apex:actionSupport event="onchange" action="{!ApplyDefaultQuoteDescription}" rerender="PartNumber,QuoteTable" oncomplete="callNext1()"  status="loadingstatusmsg2"/>
                                <apex:actionFunction name="callNext1" rerender="EngSpecial,testdoc"/>
                                        <apex:actionStatus startText="Please wait..." id="loadingstatusmsg2"/> 
                                </apex:inputField>
                                <apex:pageBlockTable value="{!quoteDescriptionList}" var="RecQD" id="QuoteTable">
                                        <apex:column >
                                                <apex:facet name="header"> Attribute </apex:facet>
                                                <apex:outputText value="{!RecQD.quotes}" id="quotes"/> 
                                        </apex:column>
                                        <apex:column >
                                            <apex:facet name="header"> Description </apex:facet>
                                            <apex:repeat value="{!RecQD.descriptionList}" var="descriptionItem">
                                                <apex:outputText value="{!descriptionItem}"/><br/>
                                            </apex:repeat>
                                        </apex:column>
                                        <apex:column >
                                            <apex:facet name="header"> Description Override </apex:facet>
                                             <apex:inputTextarea value="{!RecQD.overrideDescription}" id="quoteDescriptionOverride" style="{!IF(flmprod.Quote_Description_Engineer_Override__c == false,'width:450px;pointer-events: none;','width:450px;')}">
                                            </apex:inputTextarea>
                                             <script>
                                            var noOfRecords = {!RecQD.descriptionList.size};
                                            if(noOfRecords > 2)
                                            {
                                                var setHeight = (23 * noOfRecords);
                                                setHeight = setHeight +'px';
                                                var quoteOverrideId = '{!$Component.quoteDescriptionOverride}';
                                                document.getElementById(quoteOverrideId).style.height = setHeight;
                                            }
                                            </script>
                                        </apex:column>
                                </apex:pageBlockTable>
                                
                                <!--<apex:pageBlockSectionItem dataStyle="float: right;left: 50%;">-->
                                    
                                    <!--</apex:pageBlockSectionItem>-->
                            </apex:pageBlockSection>
                            <div align="center" draggable="false" style="margin-bottom: 15px;" >      
                                <apex:commandButton rendered="{!bShowEditButton}" 
                                styleClass="slds-button_brand"
                                 value="Save"
                                  action="{!SaveQuoteDescriptionOverride}"
                                   onclick="this.value = 'Processing'" 
                                   oncomplete="this.value = 'Save'"  
                                   rerender="Quote"/>
                            </div>

                         </apex:actionRegion>
                        <apex:pageBlockSection title="Engineering Notes" columns="1" id="Notes" >
                            <apex:inputField value="{!flmprod.Engineering_Notes__c}" style="resize:none; height:300px;width:200px;"/>
                            <!--<apex:pageBlockSectionItem dataStyle="float: right;left: 50%;">-->
                                
                        <!--</apex:pageBlockSectionItem>-->
                        </apex:pageBlockSection>
                         
                        <div align="center" draggable="false" style="margin-bottom: 15px;" >      
                            <apex:commandButton oncomplete="this.value = 'Save'" rendered="{!bShowEditButton}" styleClass="slds-button_brand" action="{!saveNotes}" value="Save"  onclick="this.value = 'Processing'"/>
                       </div>

                         <apex:outputPanel id="testdoc">
                        <apex:pageBlockSection title="Additional Documents" columns="1" rendered="{!flmprod.Quote_Description_Engineer_Override__c}"> 
                            <apex:inputTextarea value="{!flmprod.Document_IDs__c}" style="resize:none; height:200px;width:200px;"/>
                            <!--<apex:pageBlockSectionItem dataStyle="float: right;left: 50%;">-->
                        <!--</apex:pageBlockSectionItem>-->
                        </apex:pageBlockSection>
                        <div align="center" draggable="false" style="margin-bottom: 15px;" >   
                            <apex:commandButton oncomplete="this.value = 'Save'" rendered="{!and(bShowEditButton , flmprod.Quote_Description_Engineer_Override__c)}" styleClass="slds-button_brand" value="Save" action="{!SaveDocID}" onclick="this.value = 'Processing'" rerender="testdoc"/>
                            </div>
                    </apex:outputPanel>
                            </apex:outputPanel>
                 </apex:pageBlock>
             </apex:tab>
                                    
             <apex:tab label="Manufacturing Outputs" title="Engineering" id="Engineering" rendered="{!showsales}" ontabenter="validateConfigs('productReview');getTabData('Engineering');"><!-- rendered="{!showsales}" ontabenter="getTabData('Engineering');" -->
               <apex:pageBlock > 
                    <div class="slds-grid">
                        <apex:pageBlockSection title="Structure Details" columns="1">
                            <apex:pageBlockTable value="{!StructureDetails}" var="strc">
                                <apex:column >
                                    <apex:facet name="header"> Line Item No </apex:facet>
                                    {!strc.strLineItemNo}
                                </apex:column>                                
                                <apex:column >
                                    <apex:facet name="header"> Component Part</apex:facet>
                                    {!strc.strComponent}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Part Number </apex:facet>
                                    {!strc.strComponentPart}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Qty per Assembly </apex:facet>
                                    {!strc.strQtrPerAssembly}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Scrap Factor </apex:facet>
                                    {!strc.strScrapFactor}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Component Scrap </apex:facet>
                                    {!strc.strComponentScrap}
                                </apex:column>
                            </apex:pageBlockTable> 
                        </apex:pageBlockSection> 
                        <apex:pageBlockSection title="Routing Steps" id="RS" columns="1">
                            <apex:pageBlockTable value="{!Router}" var="RecR">
                                <apex:column >
                                    <apex:facet name="header"> Operation </apex:facet>
                                    {!RecR.strOperation}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Standard Operation ID </apex:facet>
                                    {!RecR.strStandard_Operation_ID}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Description </apex:facet>
                                    {!RecR.strDescr}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Outside Operation Item </apex:facet>
                                    {!RecR.strOutside_Operation_Item}
                                </apex:column>                                
                            </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection title="Control Plan Details" id="CP" columns="1">
                            <apex:pageBlockTable value="{!ControlPlanDetails}" var="RecCP">
                                <apex:column >
                                    <apex:facet name="header"> Test Operation No </apex:facet>
                                    {!RecCP.strTEST_OPNO}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> TEST OPERATION DESC </apex:facet>
                                    {!RecCP.strTEST_OPERATION_DESC}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> NORM TYPE </apex:facet>
                                    {!RecCP.strNORM_TYPE}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> OPERATION NUMBER </apex:facet>
                                    {!RecCP.strOperation_Number}
                                </apex:column>
                                
                                <!--apex:column > 
                                    <apex:facet name="header"> INSPECTION CODE </apex:facet>
                                    {!RecCP.strINSPECTION_CODE}
                                </apex:column-->
                                <apex:column >
                                    <apex:facet name="header"> Outer Min </apex:facet>
                                    {!RecCP.strOUTER_MIN}
                                </apex:column>
                                <!--apex:column >
                                    <apex:facet name="header"> Inner Min </apex:facet>
                                    {!RecCP.strINNER_MIN}
                                </apex:column-->
                                <apex:column >
                                    <apex:facet name="header"> Nominal Value </apex:facet>
                                    {!RecCP.strNOMINAL_VALUE}
                                </apex:column>
                                 <!--apex:column >
                                    <apex:facet name="header"> Inner Max </apex:facet>
                                    {!RecCP.strINNER_MAX}
                                </apex:column-->
                                <apex:column >
                                    <apex:facet name="header"> Outer Max </apex:facet>
                                    {!RecCP.strOUTER_MAX}
                                </apex:column>
                                
                            </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection title="Work Guidelines" columns="1">
                            <apex:pageBlockTable value="{!WorkGuideLines}" var="WD">
                                <apex:column >
                                    <apex:facet name="header"> Guideline Sequence </apex:facet>
                                    {!WD.strGuidline_Seq}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Operation </apex:facet>
                                    {!WD.strOperation}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Description </apex:facet>
                                    {!WD.strDescription}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Text </apex:facet>
                                    {!WD.strText}
                                </apex:column>                                
                            </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection title="Product Documents" columns="1">
                            <apex:pageBlockTable value="{!Document}" var="PD">
                                <apex:column >
                                    <apex:facet name="header"> Document </apex:facet>
                                    {!PD.strDocument}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Document ID</apex:facet>
                                    {!PD.strDocument_ID}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header"> Revision </apex:facet>
                                    {!PD.strRevision}
                                </apex:column>
                            </apex:pageBlockTable>
                        </apex:pageBlockSection> 
                        <apex:pageBlockSection title="Interface Attributes" columns="2">
                            <apex:repeat value="{!IFSAttributes}" var="RecQD" id="QuoteTable">
                                <tr>
                                    <td colspan="4">{!RecQD.Key}</td>
                                    <td colspan="4">{!RecQD.Values}</td>
                                </tr>                            
                             </apex:repeat> 
                        </apex:pageBlockSection>
                    </div>
                </apex:pageBlock>
           </apex:tab>
                       <apex:tab label="Troubleshooting" name="TroubleShoot" id="tabTroubleshoot" rendered="{!showsales}" ontabenter="validateConfigs('productReview');getTabData('TroubleShoot');"> <!-- rendered="{!showsales}" " -->
                                <apex:pageBlock > 
                                        <apex:pageBlockSection title="Troubleshooting Fields" columns="1">
                                        <apex:repeat value="{!TroubleshootingAttributes}" var="RecQD" id="QuoteTable">
                                        <tr>
                                        <td colspan="4">{!RecQD.Key}</td>
                                        <td colspan="4">{!RecQD.Values}</td>
                                        </tr>                            
                                        </apex:repeat> 
                                        </apex:pageBlockSection>
                                  </apex:pageBlock>
            			</apex:tab>
            
        </apex:tabPanel>
             <!--/apex:tabPanel-->

             <apex:outputPanel id="pnlScriptData">
                <script type="text/javascript">
                var varConfiguration_Complete = {!flmprod.IsConfig__c};
               /* var selectedTab = '{!selectedTab}';
                if(varConfiguration_Complete && selectedTab == 'ProductReview'){
                  //  getTabData('ProductReview');
                }
                */

                </script>
                </apex:outputPanel>

    </apex:form>
</apex:page>